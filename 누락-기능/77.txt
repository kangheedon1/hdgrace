ë°”ìŠ¤ì‹¤ì „ìš© í†µí•© í”„ë¡œì íŠ¸ XML

<?xml version="1.0" encoding="UTF-8"?>
<project name="bas-production-integrated-v29" version="29.00">

  <!-- SETTINGS -->
  <settings>
    <!-- ì‹¤í–‰/ë³‘ë ¬ -->
    <MaxThreads>16</MaxThreads>
    <ThreadDelay>50</ThreadDelay>
    <ParallelExecution>true</ParallelExecution>
    <ExponentialBackoff>true</ExponentialBackoff>
    <MaxRetries>3</MaxRetries>
    <InitialDelay>100</InitialDelay>

    <!-- ê²½ë¡œ/ì…ì¶œë ¥ -->
    <InputFolder>./input/</InputFolder>
    <OutputFolder>./output/</OutputFolder>
    <LogFolder>./logs/</LogFolder>
    <ConfigFile>./config/prod.json</ConfigFile>
    <SecretsFile>./config/secrets.json</SecretsFile>
    <BackupFolder>./backup/</BackupFolder>

    <!-- ì •ì±… -->
    <RemoveExactDuplicateLines>true</RemoveExactDuplicateLines>
    <SkipTestModules>true</SkipTestModules>
    <EnableAuditLog>true</EnableAuditLog>
    <LogLevel>INFO</LogLevel>
    <MaxFileSize>20971520</MaxFileSize> <!-- 20MB -->
  </settings>

  <!-- UI (ì´ëª¨ì§€/ë””ìì¸) -->
  <ui>
    <label id="title" text="ğŸ§© BAS 29.00 ì‹¤ì „ í†µí•© ëŸ°ì²˜" style="font-size:24px; color:#00FFD1; text-align:center; margin:12px 0 20px 0; font-weight:bold; background: linear-gradient(45deg, #1a1a1a, #2d2d2d); padding:15px; border-radius:10px; box-shadow: 0 4px 8px rgba(0,255,209,0.3);"/>
    <language>ko</language>

    <!-- ì…ë ¥ ì„¹ì…˜ -->
    <group id="inputSection" title="ğŸ“ ì…ë ¥ ì„¤ì •" style="margin:15px 0; padding:15px; border:2px solid #00FFD1; border-radius:8px; background:#1a1a1a;">
      <label text="ğŸ“ ì…ë ¥ í´ë” ê²½ë¡œ" style="color:#00FFD1; font-weight:bold;"/>
      <input id="inDir" name="in_dir" type="text" hint="./input/" style="width:100%; padding:12px; margin:8px 0 15px 0; border:2px solid #2b2b2b; border-radius:6px; background:#2d2d2d; color:#ffffff; font-size:14px;"/>
      
      <label text="ğŸ“¦ ì¶œë ¥ í´ë” ê²½ë¡œ" style="color:#00FFD1; font-weight:bold;"/>
      <input id="outDir" name="out_dir" type="text" hint="./output/" style="width:100%; padding:12px; margin:8px 0 15px 0; border:2px solid #2b2b2b; border-radius:6px; background:#2d2d2d; color:#ffffff; font-size:14px;"/>
      
      <label text="ğŸ“‹ ì²˜ë¦¬í•  íŒŒì¼ íŒ¨í„´" style="color:#00FFD1; font-weight:bold;"/>
      <input id="filePattern" name="file_pattern" type="text" hint="*.txt,*.bas,*.xml" style="width:100%; padding:12px; margin:8px 0 15px 0; border:2px solid #2b2b2b; border-radius:6px; background:#2d2d2d; color:#ffffff; font-size:14px;"/>
    </group>

    <!-- ì˜µì…˜ ì„¹ì…˜ -->
    <group id="optionsSection" title="âš™ï¸ ì‹¤í–‰ ì˜µì…˜" style="margin:15px 0; padding:15px; border:2px solid #FFD700; border-radius:8px; background:#1a1a1a;">
      <checkbox id="optSkipTest" text="ğŸ§ª í…ŒìŠ¤íŠ¸ íŒŒì¼ ì œì™¸ (test, í…ŒìŠ¤íŠ¸, _demo, _sample í¬í•¨)" checked="true" style="margin:8px 0; color:#FFD700; font-size:14px;"/>
      <checkbox id="optRmDup" text="ğŸ” ì™„ì „ ë™ì¼ ì¤„ ì¤‘ë³µ ì œê±° (ìœ ì‚¬ ë¬¸êµ¬ëŠ” ìœ ì§€)" checked="true" style="margin:8px 0; color:#FFD700; font-size:14px;"/>
      <checkbox id="optParallel" text="âš¡ ë³‘ë ¬ ì‹¤í–‰ í™œì„±í™”" checked="true" style="margin:8px 0; color:#FFD700; font-size:14px;"/>
      <checkbox id="optBackup" text="ğŸ’¾ ì›ë³¸ íŒŒì¼ ë°±ì—…" checked="true" style="margin:8px 0; color:#FFD700; font-size:14px;"/>
      <checkbox id="optEmoji" text="ğŸ˜€ ì´ëª¨ì§€ ë¼ë²¨ë§ ì ìš©" checked="true" style="margin:8px 0; color:#FFD700; font-size:14px;"/>
      <checkbox id="optAudit" text="ğŸ“Š ê°ì‚¬ ë¡œê·¸ í™œì„±í™”" checked="true" style="margin:8px 0; color:#FFD700; font-size:14px;"/>
    </group>

    <!-- ì„±ëŠ¥ ì„¹ì…˜ -->
    <group id="performanceSection" title="ğŸš€ ì„±ëŠ¥ ì„¤ì •" style="margin:15px 0; padding:15px; border:2px solid #FF6B6B; border-radius:8px; background:#1a1a1a;">
      <label text="âš¡ ë³‘ë ¬ ìŠ¤ë ˆë“œ ìˆ˜ (ìµœëŒ€)" style="color:#FF6B6B; font-weight:bold;"/>
      <input id="threads" name="threads" type="text" hint="16" style="width:100px; padding:10px; margin:8px 0 10px 0; border:2px solid #2b2b2b; border-radius:6px; background:#2d2d2d; color:#ffffff;"/>
      
      <label text="â±ï¸ ìŠ¤ë ˆë“œ ê°„ ì§€ì—°ì‹œê°„ (ms)" style="color:#FF6B6B; font-weight:bold;"/>
      <input id="delay" name="delay" type="text" hint="50" style="width:100px; padding:10px; margin:8px 0 10px 0; border:2px solid #2b2b2b; border-radius:6px; background:#2d2d2d; color:#ffffff;"/>
      
      <label text="ğŸ”„ ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜" style="color:#FF6B6B; font-weight:bold;"/>
      <input id="retries" name="retries" type="text" hint="3" style="width:100px; padding:10px; margin:8px 0 10px 0; border:2px solid #2b2b2b; border-radius:6px; background:#2d2d2d; color:#ffffff;"/>
    </group>

    <!-- ì‹¤í–‰ ë²„íŠ¼ ì„¹ì…˜ -->
    <group id="actionSection" title="ğŸ¯ ì‹¤í–‰ ëª…ë ¹" style="margin:20px 0; padding:20px; border:2px solid #4ECDC4; border-radius:8px; background:#1a1a1a;">
      <button id="btnValidate" text="ğŸ” ì…ë ¥ ê²€ì¦" action="ValidateInputs" style="width:32%; padding:12px; margin:5px; background:linear-gradient(45deg, #4ECDC4, #44A08D); color:#fff; border:none; border-radius:6px; font-weight:bold; cursor:pointer;"/>
      <button id="btnRun" text="â–¶ï¸ ì‹¤í–‰ ì‹œì‘" action="RunMain" style="width:32%; padding:12px; margin:5px; background:linear-gradient(45deg, #667eea, #764ba2); color:#fff; border:none; border-radius:6px; font-weight:bold; cursor:pointer;"/>
      <button id="btnStop" text="â¹ï¸ ì¤‘ì§€" action="StopExecution" style="width:32%; padding:12px; margin:5px; background:linear-gradient(45deg, #ff6b6b, #ee5a52); color:#fff; border:none; border-radius:6px; font-weight:bold; cursor:pointer;"/>
      
      <button id="btnLogs" text="ğŸ§¾ ë¡œê·¸ ë‚´ë³´ë‚´ê¸°" action="ExportLogs" style="width:32%; padding:12px; margin:5px; background:linear-gradient(45deg, #ffeaa7, #fab1a0); color:#2d3436; border:none; border-radius:6px; font-weight:bold; cursor:pointer;"/>
      <button id="btnCleanup" text="ğŸ§¹ ì •ë¦¬" action="CleanupFiles" style="width:32%; padding:12px; margin:5px; background:linear-gradient(45deg, #a29bfe, #6c5ce7); color:#fff; border:none; border-radius:6px; font-weight:bold; cursor:pointer;"/>
      <button id="btnHelp" text="â“ ë„ì›€ë§" action="ShowHelp" style="width:32%; padding:12px; margin:5px; background:linear-gradient(45deg, #fd79a8, #e84393); color:#fff; border:none; border-radius:6px; font-weight:bold; cursor:pointer;"/>
    </group>

    <!-- ìƒíƒœ í‘œì‹œ -->
    <group id="statusSection" title="ğŸ“Š ì‹¤í–‰ ìƒíƒœ" style="margin:15px 0; padding:15px; border:2px solid #74b9ff; border-radius:8px; background:#1a1a1a;">
      <label id="statusLabel" text="ğŸ”µ ëŒ€ê¸° ì¤‘..." style="color:#74b9ff; font-size:16px; font-weight:bold;"/>
      <progressbar id="progress" value="0" max="100" style="width:100%; height:20px; margin:10px 0; background:#2d2d2d; border-radius:10px;"/>
      <label id="progressText" text="ì§„í–‰ë¥ : 0%" style="color:#74b9ff; font-size:14px;"/>
    </group>
  </ui>

  <!-- ì´ˆê¸°í™” -->
  <macro name="Initialize">
    <action name="CreateDirectories">
      <Paths>{settings.InputFolder},{settings.OutputFolder},{settings.LogFolder},{settings.BackupFolder}</Paths>
    </action>
    <action name="InitializeLog">
      <File>{settings.LogFolder}/execution_{TIMESTAMP}.log</File>
      <Level>{settings.LogLevel}</Level>
    </action>
    <action name="InitializeAuditLog">
      <File>{settings.LogFolder}/audit_{TIMESTAMP}.log</File>
      <Enabled>{settings.EnableAuditLog}</Enabled>
    </action>
  </macro>

  <!-- CONFIG/SECRETS ë¡œë“œ -->
  <macro name="LoadConfig">
    <Try>
      <action name="ReadText"><File>{settings.ConfigFile}</File><Variable>RawCfg</Variable></action>
      <action name="ParseJSON"><JSON>{RawCfg}</JSON><Variable>Cfg</Variable></action>
      <action name="LogEvent"><Type>CONFIG</Type><Level>INFO</Level><Details>ì„¤ì • íŒŒì¼ ë¡œë“œ ì„±ê³µ: {settings.ConfigFile}</Details></action>
    </Try>
    <Catch>
      <action name="LogEvent"><Type>ERROR</Type><Level>ERROR</Level><Details>ì„¤ì • íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨: {settings.ConfigFile}</Details></action>
      <action name="CreateDefaultConfig"/>
    </Catch>
    
    <Try>
      <action name="ReadText"><File>{settings.SecretsFile}</File><Variable>RawSecrets</Variable></action>
      <action name="ParseJSON"><JSON>{RawSecrets}</JSON><Variable>Secrets</Variable></action>
      <action name="LogEvent"><Type>SECURITY</Type><Level>INFO</Level><Details>ë³´ì•ˆ ì„¤ì • ë¡œë“œ ì„±ê³µ</Details></action>
    </Try>
    <Catch>
      <action name="LogEvent"><Type>ERROR</Type><Level>ERROR</Level><Details>ë³´ì•ˆ ì„¤ì • íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</Details></action>
      <action name="CreatePopup"><Title>ê²½ê³ </Title><Message>ë³´ì•ˆ ì„¤ì • íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤. secrets.jsonì„ ìƒì„±í•˜ì„¸ìš”.</Message></action>
    </Catch>
  </macro>

  <!-- ì…ë ¥ ê²€ì¦ -->
  <macro name="ValidateInputs">
    <action name="SetUIStatus"><Text>ğŸ” ì…ë ¥ ê²€ì¦ ì¤‘...</Text></action>
    <action name="GetValue"><From>ui:inDir</From><Variable>UIn</Variable></action>
    <action name="GetValue"><From>ui:outDir</From><Variable>UOut</Variable></action>
    <action name="GetValue"><From>ui:filePattern</From><Variable>UPattern</Variable></action>
    <action name="GetValue"><From>ui:threads</From><Variable>UThreads</Variable></action>
    
    <action name="SetVariable"><Variable>ValidationErrors</Variable><Value></Value></action>
    
    <!-- ê²½ë¡œ ê²€ì¦ -->
    <If condition="{UIn} == '' OR {UOut} == ''">
      <Then>
        <action name="AppendVariable"><Variable>ValidationErrors</Variable><Value>âŒ ì…ë ¥/ì¶œë ¥ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”.\n</Value></action>
      </Then>
    </If>
    
    <!-- ë””ë ‰í† ë¦¬ ì¡´ì¬ í™•ì¸ -->
    <If condition="NOT DirectoryExists({UIn})">
      <Then>
        <action name="AppendVariable"><Variable>ValidationErrors</Variable><Value>âŒ ì…ë ¥ í´ë”ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤: {UIn}\n</Value></action>
      </Then>
    </If>
    
    <!-- ìŠ¤ë ˆë“œ ìˆ˜ ê²€ì¦ -->
    <If condition="{UThreads} != '' AND (NOT IsNumeric({UThreads}) OR {UThreads} < 1 OR {UThreads} > 64)">
      <Then>
        <action name="AppendVariable"><Variable>ValidationErrors</Variable><Value>âŒ ìŠ¤ë ˆë“œ ìˆ˜ëŠ” 1-64 ì‚¬ì´ì˜ ìˆ«ìì—¬ì•¼ í•©ë‹ˆë‹¤.\n</Value></action>
      </Then>
    </If>
    
    <!-- ê²°ê³¼ í‘œì‹œ -->
    <If condition="{ValidationErrors} != ''">
      <Then>
        <action name="CreatePopup"><Title>ê²€ì¦ ì‹¤íŒ¨</Title><Message>{ValidationErrors}</Message></action>
        <action name="ShowPopup"/>
        <action name="SetUIStatus"><Text>âŒ ê²€ì¦ ì‹¤íŒ¨</Text></action>
        <action name="LogEvent"><Type>VALIDATE</Type><Level>ERROR</Level><Details>ì…ë ¥ ê²€ì¦ ì‹¤íŒ¨: {ValidationErrors}</Details></action>
      </Then>
      <Else>
        <action name="CreatePopup"><Title>ê²€ì¦ ì„±ê³µ</Title><Message>âœ… ëª¨ë“  ì…ë ¥ì´ ìœ íš¨í•©ë‹ˆë‹¤.</Message></action>
        <action name="ShowPopup"/>
        <action name="SetUIStatus"><Text>âœ… ê²€ì¦ ì™„ë£Œ</Text></action>
        <action name="LogEvent"><Type>VALIDATE</Type><Level>INFO</Level><Details>ì…ë ¥ ê²€ì¦ ì„±ê³µ - ì…ë ¥:{UIn} ì¶œë ¥:{UOut} íŒ¨í„´:{UPattern}</Details></action>
      </Else>
    </If>
  </macro>

  <!-- ì†ŒìŠ¤ íŒŒì¼ ëª©ë¡ ì ì¬ -->
  <macro name="LoadSourceFiles">
    <action name="SetUIStatus"><Text>ğŸ“ íŒŒì¼ ìŠ¤ìº” ì¤‘...</Text></action>
    <action name="GetValue"><From>ui:filePattern</From><Variable>UPattern</Variable></action>
    
    <If condition="{UPattern} == ''">
      <Then><action name="SetVariable"><Variable>UPattern</Variable><Value>*.txt</Value></action></Then>
    </If>
    
    <Try>
      <action name="ListFiles">
        <Folder>{settings.InputFolder}</Folder>
        <Pattern>{UPattern}</Pattern>
        <Recursive>true</Recursive>
        <Variable>AllFiles</Variable>
      </action>
      <action name="LogEvent"><Type>SCAN</Type><Level>INFO</Level><Details>íŒŒì¼ ìŠ¤ìº” ì™„ë£Œ: {AllFiles.Count}ê°œ íŒŒì¼ ë°œê²¬</Details></action>
      <action name="SetVariable"><Variable>SrcFiles</Variable><Value>{AllFiles}</Value></action>
    </Try>
    <Catch>
      <action name="LogEvent"><Type>ERROR</Type><Level>ERROR</Level><Details>íŒŒì¼ ìŠ¤ìº” ì‹¤íŒ¨: {EXCEPTION}</Details></action>
      <action name="CreatePopup"><Title>ì˜¤ë¥˜</Title><Message>íŒŒì¼ ìŠ¤ìº” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</Message></action>
    </Catch>
  </macro>

  <!-- í…ŒìŠ¤íŠ¸ íŒŒì¼ í•„í„°ë§ (ì‹¤ì „ ë°°í¬ìš©ìœ¼ë¡œ ë³€ê²½) -->
  <macro name="FilterTestFiles">
    <parameter name="FilesIn"/>
    <action name="SetUIStatus"><Text>ğŸ§ª í…ŒìŠ¤íŠ¸ íŒŒì¼ í•„í„°ë§ ì¤‘...</Text></action>
    
    <action name="FilterByPattern">
      <Source>{FilesIn}</Source>
      <ExcludePatterns>test,í…ŒìŠ¤íŠ¸,_demo,_sample,_temp,temp,ì„ì‹œ,debug,ë””ë²„ê·¸</ExcludePatterns>
      <IgnoreCase>true</IgnoreCase>
      <Target>ProdFiles</Target>
    </action>
    
    <action name="LogEvent"><Type>FILTER</Type><Level>INFO</Level><Details>í…ŒìŠ¤íŠ¸ íŒŒì¼ ì œì™¸ ì™„ë£Œ: {FilesIn.Count} â†’ {ProdFiles.Count}</Details></action>
    <action name="AuditLog"><Action>FILTER_TEST_FILES</Action><Before>{FilesIn.Count}</Before><After>{ProdFiles.Count}</After></action>
  </macro>

  <!-- ë°±ì—… ìƒì„± -->
  <macro name="CreateBackup">
    <parameter name="FilesIn"/>
    <action name="SetUIStatus"><Text>ğŸ’¾ ë°±ì—… ìƒì„± ì¤‘...</Text></action>
    
    <action name="ForEach">
      <List>{FilesIn}</List>
      <Body>
        <Try>
          <action name="CopyFile">
            <Source>{CurrentItem}</Source>
            <Target>{settings.BackupFolder}/{CurrentItem.Name}.{TIMESTAMP}.bak</Target>
          </action>
        </Try>
        <Catch>
          <action name="LogEvent"><Type>ERROR</Type><Level>WARN</Level><Details>ë°±ì—… ì‹¤íŒ¨: {CurrentItem}</Details></action>
        </Catch>
      </Body>
    </action>
    
    <action name="LogEvent"><Type>BACKUP</Type><Level>INFO</Level><Details>ë°±ì—… ìƒì„± ì™„ë£Œ: {FilesIn.Count}ê°œ íŒŒì¼</Details></action>
  </macro>

  <!-- ë¼ì¸ ê²°í•© + "ì™„ì „ ë™ì¼ ì¤„" ì¤‘ë³µ ì œê±° -->
  <macro name="ReadAndDeduplicate">
    <parameter name="FilesIn"/>
    <action name="SetUIStatus"><Text>ğŸ”„ íŒŒì¼ ì²˜ë¦¬ ë° ì¤‘ë³µ ì œê±° ì¤‘...</Text></action>
    
    <action name="SetVariable"><Variable>TotalLines</Variable><Value>0</Value></action>
    <action name="SetVariable"><Variable>ConcatLines</Variable><Value></Value></action>
    
    <action name="ForEach">
      <List>{FilesIn}</List>
      <Body>
        <Try>
          <action name="ReadText"><File>{CurrentItem}</File><Variable>FileContent</Variable></action>
          <action name="AppendVariable"><Variable>ConcatLines</Variable><Value>{FileContent}</Value></action>
          <action name="CountLines"><Text>{FileContent}</Text><Variable>LineCount</Variable></action>
          <action name="AddToVariable"><Variable>TotalLines</Variable><Value>{LineCount}</Value></action>
          <action name="UpdateProgress"><Current>{CurrentIndex}</Current><Total>{FilesIn.Count}</Total></action>
        </Try>
        <Catch>
          <action name="LogEvent"><Type>ERROR</Type><Level>ERROR</Level><Details>íŒŒì¼ ì½ê¸° ì‹¤íŒ¨: {CurrentItem}</Details></action>
        </Catch>
      </Body>
    </action>
    
    <If condition="{settings.RemoveExactDuplicateLines} == true">
      <Then>
        <action name="UniqueLines">
          <Source>{ConcatLines}</Source>
          <ExactMatch>true</ExactMatch>
          <IgnoreWhitespace>false</IgnoreWhitespace>
          <Target>UniqueConcatLines</Target>
        </action>
        <action name="CountLines"><Text>{UniqueConcatLines}</Text><Variable>UniqueLines</Variable></action>
        <action name="LogEvent"><Type>DEDUPE</Type><Level>INFO</Level><Details>ì¤‘ë³µ ì œê±° ì™„ë£Œ: {TotalLines} â†’ {UniqueLines} ì¤„</Details></action>
        <action name="AuditLog"><Action>REMOVE_DUPLICATES</Action><Before>{TotalLines}</Before><After>{UniqueLines}</After></action>
      </Then>
      <Else>
        <action name="SetVariable"><Variable>UniqueConcatLines</Variable><Value>{ConcatLines}</Value></action>
        <action name="SetVariable"><Variable>UniqueLines</Variable><Value>{TotalLines}</Value></action>
      </Else>
    </If>
  </macro>

  <!-- ì´ëª¨ì§€ ë¼ë²¨ë§(ê°€ë…ì„± ì£¼ì„) -->
  <macro name="AnnotateWithEmojis">
    <parameter name="RawText"/>
    <action name="SetUIStatus"><Text>ğŸ˜€ ì´ëª¨ì§€ ë¼ë²¨ë§ ì¤‘...</Text></action>
    
    <action name="Annotate">
      <Input>{RawText}</Input>
      <Rules>
        <![CDATA[
          line.startsWith("<?xml")      => "ğŸ“„ XML í—¤ë”: " + line
          line.startsWith("<project")   => "ğŸ—ï¸ í”„ë¡œì íŠ¸: " + line
          line.startsWith("<settings")  => "âš™ï¸ ì„¤ì •: " + line
          line.startsWith("<macro")     => "ğŸ§© ë§¤í¬ë¡œ: " + line
          line.startsWith("<action")    => "â–¶ï¸ ì‹¤í–‰: " + line
          line.contains("<button")      => "ğŸ”˜ ë²„íŠ¼: " + line
          line.contains("<input")       => "âŒ¨ï¸ ì…ë ¥: " + line
          line.contains("<checkbox")    => "â˜‘ï¸ ì²´í¬: " + line
          line.contains("<label")       => "ğŸ·ï¸ ë¼ë²¨: " + line
          line.contains("<group")       => "ğŸ“ ê·¸ë£¹: " + line
          line.contains("<progressbar") => "ğŸ“Š ì§„í–‰ë°”: " + line
          line.contains("<Try")         => "ğŸ”„ ì‹œë„: " + line
          line.contains("<Catch")       => "ğŸš¨ ì˜ˆì™¸: " + line
          line.contains("<If")          => "ğŸ¤” ì¡°ê±´: " + line
          line.contains("<For")         => "ğŸ” ë°˜ë³µ: " + line
          line.contains("ERROR")        => "âŒ ì˜¤ë¥˜: " + line
          line.contains("WARN")         => "âš ï¸ ê²½ê³ : " + line
          line.contains("INFO")         => "â„¹ï¸ ì •ë³´: " + line
          line.contains("DEBUG")        => "ğŸ› ë””ë²„ê·¸: " + line
          line.contains("SUCCESS")      => "âœ… ì„±ê³µ: " + line
        ]]>
      </Rules>
      <Variable>AnnotatedText</Variable>
    </action>
    
    <action name="LogEvent"><Type>ANNOTATE</Type><Level>INFO</Level><Details>ì´ëª¨ì§€ ë¼ë²¨ë§ ì™„ë£Œ</Details></action>
  </macro>

  <!-- ë³‘ë ¬ ì²˜ë¦¬(íŒŒì¼ ë³‘í•©) -->
  <macro name="ProcessInParallel">
    <parameter name="FilesIn"/>
    <action name="SetUIStatus"><Text>âš¡ ë³‘ë ¬ ì²˜ë¦¬ ì¤‘...</Text></action>
    
    <action name="ForEachParallel">
      <List>{FilesIn}</List>
      <MaxDegree>{settings.MaxThreads}</MaxDegree>
      <DelayMs>{settings.ThreadDelay}</DelayMs>
      <Body>
        <Try>
          <action name="ReadText"><File>{CurrentItem}</File><Variable>Chunk</Variable></action>
          <action name="ThreadSafeAppend"><File>{settings.OutputFolder}/_merged_raw.txt</File><Data>{Chunk}</Data></action>
          <action name="LogEvent"><Type>PARALLEL</Type><Level>DEBUG</Level><Details>ë³‘ë ¬ ì²˜ë¦¬ ì™„ë£Œ: {CurrentItem}</Details></action>
        </Try>
        <Catch>
          <action name="LogEvent"><Type>ERROR</Type><Level>ERROR</Level><Details>ë³‘ë ¬ ì²˜ë¦¬ ì‹¤íŒ¨: {CurrentItem} - {EXCEPTION}</Details></action>
        </Catch>
      </Body>
    </action>
    
    <action name="LogEvent"><Type>PARALLEL</Type><Level>INFO</Level><Details>ë³‘ë ¬ ì²˜ë¦¬ ì™„ë£Œ: {FilesIn.Count}ê°œ íŒŒì¼, {settings.MaxThreads} ìŠ¤ë ˆë“œ</Details></action>
  </macro>

  <!-- ì§ë ¬ ì²˜ë¦¬(íŒŒì¼ ë³‘í•©) -->
  <macro name="ProcessInSequence">
    <parameter name="FilesIn"/>
    <action name="SetUIStatus"><Text>ğŸ“ ìˆœì°¨ ì²˜ë¦¬ ì¤‘...</Text></action>
    
    <action name="ForEach">
      <List>{FilesIn}</List>
      <Body>
        <Try>
          <action name="ReadText"><File>{CurrentItem}</File><Variable>Chunk</Variable></action>
          <action name="AppendFile"><File>{settings.OutputFolder}/_merged_raw.txt</File><Data>{Chunk}</Data></action>
          <action name="UpdateProgress"><Current>{CurrentIndex}</Current><Total>{FilesIn.Count}</Total></action>
          <action name="Sleep"><Ms>{settings.ThreadDelay}</Ms></action>
        </Try>
        <Catch>
          <action name="LogEvent"><Type>ERROR</Type><Level>ERROR</Level><Details>ìˆœì°¨ ì²˜ë¦¬ ì‹¤íŒ¨: {CurrentItem} - {EXCEPTION}</Details></action>
        </Catch>
      </Body>
    </action>
  </macro>

  <!-- ê²°ê³¼ ìƒì„± -->
  <macro name="BuildProductionOutput">
    <parameter name="TextIn"/>
    <action name="SetUIStatus"><Text>ğŸ“¦ ìµœì¢… íŒŒì¼ ìƒì„± ì¤‘...</Text></action>
    
    <!-- ë©”ì¸ ì¶œë ¥ íŒŒì¼ -->
    <action name="WriteText">
      <File>{settings.OutputFolder}/project_prod_v29.xml</File>
      <Data>{TextIn}</Data>
      <Encoding>UTF-8</Encoding>
    </action>
    
    <!-- ë°±ì—… ë³µì‚¬ë³¸ -->
    <action name="CopyFile">
      <Source>{settings.OutputFolder}/project_prod_v29.xml</Source>
      <Target>{settings.BackupFolder}/project_prod_v29_{TIMESTAMP}.xml</Target>
    </action>
    
    <!-- ë©”íƒ€ë°ì´í„° íŒŒì¼ ìƒì„± -->
    <action name="CreateMetadataFile">
      <File>{settings.OutputFolder}/metadata.json</File>
      <Data>
        {
          "version": "29.00",
          "created": "{TIMESTAMP}",
          "totalFiles": "{SrcFiles.Count}",
          "processedFiles": "{ProdFiles.Count}",
          "totalLines": "{TotalLines}",
          "uniqueLines": "{UniqueLines}",
          "threads": "{settings.MaxThreads}",
          "options": {
            "skipTest": "{SkipTest}",
            "removeDuplicates": "{RmDup}",
            "parallel": "{UseParallel}",
            "backup": "{UseBackup}",
            "emoji": "{UseEmoji}",
            "audit": "{UseAudit}"
          }
        }
      </Data>
    </action>
    
    <action name="LogEvent"><Type>OUTPUT</Type><Level>INFO</Level><Details>í”„ë¡œë•ì…˜ ì¶œë ¥ íŒŒì¼ ìƒì„± ì™„ë£Œ: project_prod_v29.xml</Details></action>
    <action name="AuditLog"><Action>CREATE_OUTPUT</Action><File>project_prod_v29.xml</File><Size>{TextIn.Length}</Size></action>
  </macro>

  <!-- ë¡œê·¸/ë³´ê³ ì„œ ë‚´ë³´ë‚´ê¸° -->
  <macro name="ExportLogs">
    <action name="SetUIStatus"><Text>ğŸ§¾ ë¡œê·¸ ë‚´ë³´ë‚´ê¸° ì¤‘...</Text></action>
    
    <!-- ì‹¤í–‰ ìš”ì•½ -->
    <action name="CreateFile">
      <Name>{settings.OutputFolder}/execution_summary.txt</Name>
      <Header>ğŸ§¾ BAS 29.00 ì‹¤ì „ í†µí•© ì‹¤í–‰ ìš”ì•½</Header>
      <Data>
        ì‹¤í–‰ ì‹œê°„: {TIMESTAMP}
        BAS ë²„ì „: 29.00
        í”„ë¡œì íŠ¸: bas-production-integrated-v29
        
        ğŸ“Š ì²˜ë¦¬ í†µê³„:
        â”œâ”€ ì´ ì…ë ¥ íŒŒì¼: {SrcFiles.Count}ê°œ
        â”œâ”€ ì‹¤ì „ íŒŒì¼: {ProdFiles.Count}ê°œ
        â”œâ”€ ì´ ë¼ì¸ ìˆ˜: {TotalLines}ì¤„
        â”œâ”€ ìœ ë‹ˆí¬ ë¼ì¸: {UniqueLines}ì¤„
        â””â”€ ì¤‘ë³µ ì œê±°ìœ¨: {DuplicateRate}%
        
        âš™ï¸ ì‹¤í–‰ ì„¤ì •:
        â”œâ”€ ë³‘ë ¬ ìŠ¤ë ˆë“œ: {settings.MaxThreads}ê°œ
        â”œâ”€ ìŠ¤ë ˆë“œ ì§€ì—°: {settings.ThreadDelay}ms
        â”œâ”€ ìµœëŒ€ ì¬ì‹œë„: {settings.MaxRetries}íšŒ
        â””â”€ ë¡œê·¸ ë ˆë²¨: {settings.LogLevel}
        
        âœ… ì™„ë£Œëœ ì‘ì—…:
        â”œâ”€ ì…ë ¥ ê²€ì¦
        â”œâ”€ íŒŒì¼ ìŠ¤ìº”
        â”œâ”€ í…ŒìŠ¤íŠ¸ íŒŒì¼ ì œì™¸
        â”œâ”€ ë°±ì—… ìƒì„±
        â”œâ”€ ì¤‘ë³µ ì œê±°
        â”œâ”€ ì´ëª¨ì§€ ë¼ë²¨ë§
        â”œâ”€ ë³‘ë ¬/ìˆœì°¨ ì²˜ë¦¬
        â””â”€ ìµœì¢… ì¶œë ¥ ìƒì„±
      </Data>
    </action>
    
    <!-- ì„±ëŠ¥ ë¦¬í¬íŠ¸ -->
    <action name="CreateFile">
      <Name>{settings.OutputFolder}/performance_report.csv</Name>
      <Header>êµ¬ë¶„,ìˆ˜ì¹˜,ë‹¨ìœ„,ì„¤ëª…</Header>
      <Data>
        ì²˜ë¦¬ì‹œê°„,{ExecutionTime},ì´ˆ,ì „ì²´ ì‹¤í–‰ ì‹œê°„
        ì²˜ë¦¬ì†ë„,{ProcessingSpeed},íŒŒì¼/ì´ˆ,íŒŒì¼ ì²˜ë¦¬ ì†ë„
        ë©”ëª¨ë¦¬ì‚¬ìš©ëŸ‰,{MemoryUsage},MB,ìµœëŒ€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
        ìŠ¤ë ˆë“œíš¨ìœ¨ì„±,{ThreadEfficiency},%,ìŠ¤ë ˆë“œ í™œìš©ë¥ 
        ì—ëŸ¬ë°œìƒìˆ˜,{ErrorCount},ê°œ,ì²˜ë¦¬ ì¤‘ ë°œìƒí•œ ì˜¤ë¥˜ ìˆ˜
        ë°±ì—…ìš©ëŸ‰,{BackupSize},MB,ìƒì„±ëœ ë°±ì—… íŒŒì¼ í¬ê¸°
      </Data>
    </action>
    
    <!-- ì—ëŸ¬ ë¡œê·¸ í•„í„°ë§ -->
    <action name="FilterLogsByLevel">
      <Source>{settings.LogFolder}/execution_{TIMESTAMP}.log</Source>
      <Level>ERROR,WARN</Level>
      <Target>{settings.OutputFolder}/errors_and_warnings.log</Target>
    </action>
    
    <action name="LogEvent"><Type>EXPORT</Type><Level>INFO</Level><Details>ë¡œê·¸ ë‚´ë³´ë‚´ê¸° ì™„ë£Œ</Details></action>
    <action name="CreatePopup"><Title>ë‚´ë³´ë‚´ê¸° ì™„ë£Œ</Title><Message>ğŸ“Š ì‹¤í–‰ ìš”ì•½, ì„±ëŠ¥ ë¦¬í¬íŠ¸, ì—ëŸ¬ ë¡œê·¸ê°€ ì¶œë ¥ í´ë”ì— ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</Message></action>
  </macro>

  <!-- ì •ë¦¬ ì‘ì—… -->
  <macro name="CleanupFiles">
    <action name="SetUIStatus"><Text>ğŸ§¹ ì •ë¦¬ ì¤‘...</Text></action>
    
    <!-- ì„ì‹œ íŒŒì¼ ì‚­ì œ -->
    <action name="DeleteFiles">
      <Pattern>{settings.OutputFolder}/_temp_*</Pattern>
      <Pattern>{settings.OutputFolder}/_merged_raw.txt</Pattern>
    </action>
    
    <!-- ì˜¤ë˜ëœ ë¡œê·¸ íŒŒì¼ ì‚­ì œ (7ì¼ ì´ìƒ) -->
    <action name="DeleteOldFiles">
      <Folder>{settings.LogFolder}</Folder>
      <OlderThanDays>7</OlderThanDays>
    </action>
    
    <!-- ì˜¤ë˜ëœ ë°±ì—… íŒŒì¼ ì‚­ì œ (30ì¼ ì´ìƒ) -->
    <action name="DeleteOldFiles">
      <Folder>{settings.BackupFolder}</Folder>
      <OlderThanDays>30</OlderThanDays>
    </action>
    
    <action name="LogEvent"><Type>CLEANUP</Type><Level>INFO</Level><Details>ì •ë¦¬ ì‘ì—… ì™„ë£Œ</Details></action>
    <action name="CreatePopup"><Title>ì •ë¦¬ ì™„ë£Œ</Title><Message>ğŸ§¹ ì„ì‹œ íŒŒì¼ê³¼ ì˜¤ë˜ëœ ë¡œê·¸/ë°±ì—… íŒŒì¼ì´ ì •ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.</Message></action>
  </macro>

  <!-- ì‹¤í–‰ ì¤‘ì§€ -->
  <macro name="StopExecution">
    <action name="SetUIStatus"><Text>â¹ï¸ ì‹¤í–‰ ì¤‘ì§€ ì¤‘...</Text></action>
    <action name="StopAllThreads"/>
    <action name="LogEvent"><Type>STOP</Type><Level>WARN</Level><Details>ì‚¬ìš©ìì— ì˜í•œ ì‹¤í–‰ ì¤‘ì§€</Details></action>
    <action name="AuditLog"><Action>STOP_EXECUTION</Action><Reason>USER_REQUEST</Reason></action>
    <action name="CreatePopup"><Title>ì¤‘ì§€ ì™„ë£Œ</Title><Message>â¹ï¸ ì‹¤í–‰ì´ ì¤‘ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.</Message></action>
  </macro>

  <!-- ë„ì›€ë§ -->
  <macro name="ShowHelp">
    <action name="CreatePopup">
      <Title>ğŸ§© BAS 29.00 ì‹¤ì „ í†µí•© ëŸ°ì²˜ ë„ì›€ë§</Title>
      <Message>
ğŸ“‹ ì£¼ìš” ê¸°ëŠ¥:
â€¢ ğŸ“ ë‹¤ì¤‘ íŒŒì¼ í†µí•© ì²˜ë¦¬
â€¢ ğŸ§ª í…ŒìŠ¤íŠ¸ íŒŒì¼ ìë™ ì œì™¸
â€¢ ğŸ” ì™„ì „ ë™ì¼ ì¤„ ì¤‘ë³µ ì œê±°
â€¢ âš¡ ë³‘ë ¬ ì²˜ë¦¬ ì§€ì›
â€¢ ğŸ’¾ ìë™ ë°±ì—… ìƒì„±
â€¢ ğŸ˜€ ì´ëª¨ì§€ ë¼ë²¨ë§
â€¢ ğŸ“Š ìƒì„¸ ë¡œê·¸ ë° ê°ì‚¬ ì¶”ì 

ğŸš€ ì‚¬ìš©ë²•:
1. ì…ë ¥/ì¶œë ¥ í´ë” ê²½ë¡œ ì„¤ì •
2. íŒŒì¼ íŒ¨í„´ ì§€ì • (ê¸°ë³¸: *.txt)
3. ì‹¤í–‰ ì˜µì…˜ ì„ íƒ
4. ì„±ëŠ¥ ì„¤ì • ì¡°ì •
5. 'ğŸ” ì…ë ¥ ê²€ì¦' í´ë¦­
6. 'â–¶ï¸ ì‹¤í–‰ ì‹œì‘' í´ë¦­

ğŸ’¡ íŒ:
â€¢ ë³‘ë ¬ ìŠ¤ë ˆë“œëŠ” CPU ì½”ì–´ ìˆ˜ì˜ 2ë°° ê¶Œì¥
â€¢ ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬ ì‹œ ìŠ¤ë ˆë“œ ì§€ì—° ì¦ê°€
â€¢ ë°±ì—…ì€ í•­ìƒ í™œì„±í™” ê¶Œì¥
â€¢ ë¡œê·¸ ë ˆë²¨ì€ ìš´ì˜ í™˜ê²½ì—ì„œ INFO ê¶Œì¥

â“ ë¬¸ì œ í•´ê²°:
â€¢ README.txt íŒŒì¼ ì°¸ì¡°
â€¢ ë¡œê·¸ íŒŒì¼ í™•ì¸ ({settings.LogFolder})
â€¢ ë°±ì—… íŒŒì¼ì—ì„œ ë³µêµ¬ ê°€ëŠ¥
      </Message>
    </action>
  </macro>

  <!-- UI ìƒíƒœ ì—…ë°ì´íŠ¸ -->
  <macro name="SetUIStatus">
    <parameter name="Text"/>
    <action name="SetLabelText"><Id>statusLabel</Id><Text>{Text}</Text></action>
  </macro>

  <!-- ì§„í–‰ë¥  ì—…ë°ì´íŠ¸ -->
  <macro name="UpdateProgress">
    <parameter name="Current"/>
    <parameter name="Total"/>
    <action name="CalculatePercentage"><Current>{Current}</Current><Total>{Total}</Total><Variable>Percentage</Variable></action>
    <action name="SetProgressValue"><Id>progress</Id><Value>{Percentage}</Value></action>
    <action name="SetLabelText"><Id>progressText</Id><Text>ì§„í–‰ë¥ : {Percentage}% ({Current}/{Total})</Text></action>
  </macro>

  <!-- ì¬ì‹œë„ ë¡œì§ (ì§€ìˆ˜ ë°±ì˜¤í”„) -->
  <macro name="RetryWithBackoff">
    <parameter name="Operation"/>
    <parameter name="MaxRetries"/>
    <action name="SetVariable"><Variable>RetryCount</Variable><Value>0</Value></action>
    <action name="SetVariable"><Variable>DelayMs</Variable><Value>{settings.InitialDelay}</Value></action>
    
    <Do>
      <Try>
        <call macro="{Operation}"/>
        <action name="SetVariable"><Variable>Success</Variable><Value>true</Value></action>
      </Try>
      <Catch>
        <action name="AddToVariable"><Variable>RetryCount</Variable><Value>1</Value></action>
        <action name="LogEvent"><Type>RETRY</Type><Level>WARN</Level><Details>{Operation} ì¬ì‹œë„ {RetryCount}/{MaxRetries}: {EXCEPTION}</Details></action>
        
        <If condition="{RetryCount} < {MaxRetries}">
          <Then>
            <action name="Sleep"><Ms>{DelayMs}</Ms></action>
            <action name="MultiplyVariable"><Variable>DelayMs</Variable><Value>2</Value></action>
          </Then>
          <Else>
            <action name="LogEvent"><Type>ERROR</Type><Level>ERROR</Level><Details>{Operation} ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜ ì´ˆê³¼</Details></action>
            <action name="SetVariable"><Variable>Success</Variable><Value>false</Value></action>
          </Else>
        </If>
      </Catch>
    </Do>
    <While condition="{Success} != true AND {RetryCount} < {MaxRetries}"/>
  </macro>

  <!-- ë©”ì¸ ì‹¤í–‰ -->
  <macro name="RunMain">
    <action name="SetUIStatus"><Text>ğŸš€ ì‹¤í–‰ ì‹œì‘...</Text></action>
    <action name="StartTimer"><Variable>StartTime</Variable></action>
    
    <!-- ì´ˆê¸°í™” -->
    <call macro="Initialize"/>
    <call macro="LoadConfig"/>

    <!-- UIê°’ ë°˜ì˜ -->
    <action name="GetValue"><From>ui:inDir</From><Variable>UIn</Variable></action>
    <action name="GetValue"><From>ui:outDir</From><Variable>UOut</Variable></action>
    <action name="GetChecked"><From>ui:optSkipTest</From><Variable>SkipTest</Variable></action>
    <action name="GetChecked"><From>ui:optRmDup</From><Variable>RmDup</Variable></action>
    <action name="GetChecked"><From>ui:optParallel</From><Variable>UseParallel</Variable></action>
    <action name="GetChecked"><From>ui:optBackup</From><Variable>UseBackup</Variable></action>
    <action name="GetChecked"><From>ui:optEmoji</From><Variable>UseEmoji</Variable></action>
    <action name="GetChecked"><From>ui:optAudit</From><Variable>UseAudit</Variable></action>
    <action name="GetValue"><From>ui:threads</From><Variable>UiThreads</Variable></action>
    <action name="GetValue"><From>ui:delay</From><Variable>UiDelay</Variable></action>
    <action name="GetValue"><From>ui:retries</From><Variable>UiRetries</Variable></action>

    <!-- ì„¤ì • ì—…ë°ì´íŠ¸ -->
    <If condition="{UIn} != ''">
      <Then><action name="SetVariable"><Variable>settings.InputFolder</Variable><Value>{UIn}</Value></action></Then>
    </If>
    <If condition="{UOut} != ''">
      <Then><action name="SetVariable"><Variable>settings.OutputFolder</Variable><Value>{UOut}</Value></action></Then>
    </If>
    <If condition="{UiThreads} != ''">
      <Then><action name="SetVariable"><Variable>settings.MaxThreads</Variable><Value>{UiThreads}</Value></action></Then>
    </If>
    <If condition="{UiDelay} != ''">
      <Then><action name="SetVariable"><Variable>settings.ThreadDelay</Variable><Value>{UiDelay}</Value></action></Then>
    </If>
    <If condition="{UiRetries} != ''">
      <Then><action name="SetVariable"><Variable>settings.MaxRetries</Variable><Value>{UiRetries}</Value></action></Then>
    </If>

    <!-- ê°ì‚¬ ë¡œê·¸ ì‹œì‘ -->
    <If condition="{UseAudit} == true">
      <Then>
        <action name="AuditLog"><Action>START_EXECUTION</Action><User>{USER}</User><Settings>{settings}</Settings></action>
      </Then>
    </If>

    <!-- íŒŒì¼ ì ì¬ -->
    <action name="UpdateProgress"><Current>1</Current><Total>10</Total></action>
    <call macro="LoadSourceFiles"/>

    <!-- í…ŒìŠ¤íŠ¸ ì œì™¸ ì ìš© -->
    <action name="UpdateProgress"><Current>2</Current><Total>10</Total></action>
    <If condition="{SkipTest} == true">
      <Then><call macro="FilterTestFiles"><parameter name="FilesIn">{SrcFiles}</parameter></call></Then>
      <Else><action name="SetVariable"><Variable>ProdFiles</Variable><Value>{SrcFiles}</Value></action></Else>
    </If>

    <!-- ë°±ì—… ìƒì„± -->
    <action name="UpdateProgress"><Current>3</Current><Total>10</Total></action>
    <If condition="{UseBackup} == true">
      <Then><call macro="CreateBackup"><parameter name="FilesIn">{ProdFiles}</parameter></call></Then>
    </If>

    <!-- íŒŒì¼ í¬ê¸° ê²€ì¦ -->
    <action name="UpdateProgress"><Current>4</Current><Total>10</Total></action>
    <action name="CalculateTotalSize"><Files>{ProdFiles}</Files><Variable>TotalSize</Variable></action>
    <If condition="{TotalSize} > {settings.MaxFileSize}">
      <Then>
        <action name="LogEvent"><Type>WARN</Type><Level>WARN</Level><Details>íŒŒì¼ í¬ê¸°ê°€ ì œí•œì„ ì´ˆê³¼í•©ë‹ˆë‹¤: {TotalSize} > {settings.MaxFileSize}</Details></action>
        <action name="CreatePopup"><Title>ê²½ê³ </Title><Message>âš ï¸ íŒŒì¼ í¬ê¸°ê°€ 20MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤. ì²˜ë¦¬ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</Message></action>
      </Then>
    </If>

    <!-- ë³‘ë ¬/ì§ë ¬ ì„ íƒ ì²˜ë¦¬ -->
    <action name="UpdateProgress"><Current>5</Current><Total>10</Total></action>
    <If condition="{UseParallel} == true">
      <Then><call macro="ProcessInParallel"><parameter name="FilesIn">{ProdFiles}</parameter></call></Then>
      <Else><call macro="ProcessInSequence"><parameter name="FilesIn">{ProdFiles}</parameter></call></Else>
    </If>

    <!-- ì¤‘ë³µ ì œê±° -->
    <action name="UpdateProgress"><Current>7</Current><Total>10</Total></action>
    <call macro="ReadAndDeduplicate"><parameter name="FilesIn">{ProdFiles}</parameter></call>

    <!-- ì´ëª¨ì§€ ë¼ë²¨ë§ -->
    <action name="UpdateProgress"><Current>8</Current><Total>10</Total></action>
    <If condition="{UseEmoji} == true">
      <Then><call macro="AnnotateWithEmojis"><parameter name="RawText">{UniqueConcatLines}</parameter></call></Then>
      <Else><action name="SetVariable"><Variable>AnnotatedText</Variable><Value>{UniqueConcatLines}</Value></action></Else>
    </If>

    <!-- ìµœì¢… ì¶œë ¥ ìƒì„± -->
    <action name="UpdateProgress"><Current>9</Current><Total>10</Total></action>
    <call macro="BuildProductionOutput"><parameter name="TextIn">{AnnotatedText}</parameter></call>

    <!-- ì™„ë£Œ ì²˜ë¦¬ -->
    <action name="UpdateProgress"><Current>10</Current><Total>10</Total></action>
    <action name="StopTimer"><Variable>EndTime</Variable></action>
    <action name="CalculateDuration"><Start>{StartTime}</Start><End>{EndTime}</End><Variable>ExecutionTime</Variable></action>
    
    <action name="LogEvent"><Type>COMPLETE</Type><Level>INFO</Level><Details>ì‹¤í–‰ ì™„ë£Œ - ì‹œê°„: {ExecutionTime}ì´ˆ, íŒŒì¼: {ProdFiles.Count}ê°œ, ë¼ì¸: {UniqueLines}ì¤„</Details></action>
    
    <If condition="{UseAudit} == true">
      <Then>
        <action name="AuditLog"><Action>COMPLETE_EXECUTION</Action><Duration>{ExecutionTime}</Duration><FilesProcessed>{ProdFiles.Count}</FilesProcessed><LinesProcessed>{UniqueLines}</LinesProcessed></action>
      </Then>
    </If>

    <action name="SetUIStatus"><Text>âœ… ì‹¤í–‰ ì™„ë£Œ!</Text></action>
    <action name="CreatePopup">
      <Title>ğŸ‰ ì‹¤í–‰ ì™„ë£Œ</Title>
      <Message>
âœ… BAS 29.00 ì‹¤ì „ í†µí•© íŒŒì¼ ìƒì„± ì™„ë£Œ!

ğŸ“Š ì²˜ë¦¬ ê²°ê³¼:
â€¢ ì²˜ë¦¬ ì‹œê°„: {ExecutionTime}ì´ˆ
â€¢ ì…ë ¥ íŒŒì¼: {SrcFiles.Count}ê°œ
â€¢ ì‹¤ì „ íŒŒì¼: {ProdFiles.Count}ê°œ  
â€¢ ì´ ë¼ì¸: {TotalLines}ì¤„
â€¢ ìœ ë‹ˆí¬ ë¼ì¸: {UniqueLines}ì¤„

ğŸ“ ì¶œë ¥ íŒŒì¼:
â€¢ project_prod_v29.xml (ë©”ì¸ ê²°ê³¼)
â€¢ metadata.json (ë©”íƒ€ë°ì´í„°)
â€¢ execution_summary.txt (ì‹¤í–‰ ìš”ì•½)

ğŸ“‚ ì¶œë ¥ ìœ„ì¹˜: {settings.OutputFolder}
      </Message>
    </action>
    <action name="ShowPopup"/>
  </macro>

</project>









í”„ë¡œë•ì…˜íŒŒì¼

{
  "projectInfo": {
    "name": "BAS 29.00 ì‹¤ì „ í†µí•© í”„ë¡œì íŠ¸",
    "version": "29.00",
    "description": "í…ŒìŠ¤íŠ¸ê°€ ì•„ë‹Œ ì‹¤ì „ ìš´ì˜ì„ ìœ„í•œ BAS í†µí•© ì½”ë“œ ì²˜ë¦¬ ì‹œìŠ¤í…œ",
    "author": "Production Team",
    "created": "2025-08-18",
    "environment": "PRODUCTION"
  },
  
  "execution": {
    "maxThreads": 16,
    "threadDelayMs": 50,
    "maxRetries": 3,
    "initialDelayMs": 100,
    "exponentialBackoff": true,
    "timeoutSeconds": 300,
    "enableParallel": true,
    "enableAudit": true
  },
  
  "fileProcessing": {
    "maxFileSizeMB": 20,
    "maxTotalSizeMB": 500,
    "encoding": "UTF-8",
    "lineEnding": "CRLF",
    "removeExactDuplicates": true,
    "preserveSimilarLines": true,
    "enableEmojiLabeling": true,
    "skipTestFiles": true
  },
  
  "paths": {
    "input": "./input/",
    "output": "./output/",
    "logs": "./logs/",
    "backup": "./backup/",
    "temp": "./temp/",
    "config": "./config/"
  },
  
  "patterns": {
    "includeFiles": [
      "*.txt",
      "*.bas", 
      "*.xml",
      "*.cfg",
      "*.ini"
    ],
    "excludeFiles": [
      "*test*",
      "*í…ŒìŠ¤íŠ¸*",
      "*_demo*",
      "*_sample*",
      "*_temp*",
      "*temp*",
      "*ì„ì‹œ*",
      "*debug*",
      "*ë””ë²„ê·¸*"
    ],
    "excludeExtensions": [
      ".tmp",
      ".bak",
      ".log",
      ".cache"
    ]
  },
  
  "logging": {
    "level": "INFO",
    "enableConsole": true,
    "enableFile": true,
    "enableAudit": true,
    "rotateDaily": true,
    "maxLogSizeMB": 10,
    "keepLogDays": 30,
    "auditFields": [
      "timestamp",
      "user",
      "action",
      "resource",
      "result",
      "details"
    ]
  },
  
  "backup": {
    "enabled": true,
    "keepDays": 30,
    "compressionEnabled": true,
    "timestampFormat": "yyyyMMdd_HHmmss",
    "maxBackupSizeMB": 1000
  },
  
  "output": {
    "mainFileName": "project_prod_v29.xml",
    "metadataFileName": "metadata.json",
    "summaryFileName": "execution_summary.txt",
    "performanceFileName": "performance_report.csv",
    "errorLogFileName": "errors_and_warnings.log",
    "includeTimestamp": true,
    "includeChecksum": true
  },
  
  "performance": {
    "memoryLimitMB": 2048,
    "diskSpaceLimitMB": 5120,
    "cpuUsageLimit": 80,
    "monitoringInterval": 5000,
    "enableProfiling": false
  },
  
  "validation": {
    "checkInputExists": true,
    "checkOutputWritable": true,
    "checkDiskSpace": true,
    "checkMemory": true,
    "validateFileFormats": true,
    "checksumVerification": true
  },
  
  "errorHandling": {
    "continueOnError": true,
    "skipCorruptedFiles": true,
    "createErrorReport": true,
    "notifyOnCriticalError": true,
    "autoRecovery": true
  },
  
  "features": {
    "enableProgressBar": true,
    "enableStatusUpdates": true,
    "enablePopupNotifications": true,
    "enableSoundNotifications": false,
    "enableEmailNotifications": false,
    "enableSystemTray": false
  },
  
  "advanced": {
    "enableDebugMode": false,
    "enableVerboseLogging": false,
    "enableMemoryProfiling": false,
    "enablePerformanceMetrics": true,
    "enableCrashDumps": true,
    "enableTelemetry": false
  }
}


ë³´ì•ˆì„¤ì •  ê°€ì´ë“œ  íŒŒì¼

{
  "_comment": "ë³´ì•ˆìƒ ì¤‘ìš”í•œ ì •ë³´ëŠ” ì´ íŒŒì¼ì— ì €ì¥í•˜ì„¸ìš”. ë²„ì „ ê´€ë¦¬ì—ì„œ ì œì™¸ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.",
  "_warning": "ì´ íŒŒì¼ì€ .gitignoreì— ì¶”ê°€í•˜ê³  ì•ˆì „í•œ ê³³ì— ë³´ê´€í•˜ì„¸ìš”.",
  
  "encryption": {
    "key": "YOUR_ENCRYPTION_KEY_HERE",
    "algorithm": "AES-256-GCM",
    "keyDerivation": "PBKDF2"
  },
  
  "database": {
    "connectionString": "YOUR_DB_CONNECTION_STRING",
    "username": "YOUR_DB_USERNAME", 
    "password": "YOUR_DB_PASSWORD",
    "encryptConnection": true
  },
  
  "api": {
    "baseUrl": "https://your-api-server.com",
    "apiKey": "YOUR_API_KEY_HERE",
    "secretKey": "YOUR_SECRET_KEY_HERE",
    "timeout": 30000
  },
  
  "email": {
    "smtpServer": "smtp.your-domain.com",
    "port": 587,
    "username": "notifications@your-domain.com",
    "password": "YOUR_EMAIL_PASSWORD",
    "enableSSL": true,
    "fromAddress": "bas-system@your-domain.com",
    "toAddresses": [
      "admin@your-domain.com",
      "support@your-domain.com"
    ]
  },
  
  "logging": {
    "logServerUrl": "https://logs.your-domain.com",
    "logApiKey": "YOUR_LOG_API_KEY",
    "enableRemoteLogging": false
  },
  
  "backup": {
    "remoteBackupUrl": "https://backup.your-domain.com",
    "backupApiKey": "YOUR_BACKUP_API_KEY",
    "enableRemoteBackup": false
  },
  
  "monitoring": {
    "healthCheckUrl": "https://monitoring.your-domain.com/health",
    "alertWebhook": "https://hooks.slack.com/services/YOUR/WEBHOOK/URL",
    "monitoringApiKey": "YOUR_MONITORING_API_KEY"
  },
  
  "security": {
    "jwtSecret": "YOUR_JWT_SECRET_KEY",
    "sessionSecret": "YOUR_SESSION_SECRET",
    "csrfSecret": "YOUR_CSRF_SECRET",
    "encryptionSalt": "YOUR_ENCRYPTION_SALT"
  },
  
  "externalServices": {
    "fileStorageApiKey": "YOUR_FILE_STORAGE_API_KEY",
    "compressionServiceUrl": "https://compress.your-domain.com",
    "validationServiceUrl": "https://validate.your-domain.com"
  }
}


ğŸ§© BAS 29.00 ì‹¤ì „ìš© í†µí•© í”„ë¡œì íŠ¸ ì‹¤í–‰ ê°€ì´ë“œ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ ëª©ì°¨
1. ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­
2. ì„¤ì¹˜ ë° ì„¤ì •
3. ì‹¤í–‰ ë°©ë²•
4. ì£¼ìš” ê¸°ëŠ¥ ì„¤ëª…
5. ë¬¸ì œ í•´ê²°
6. ë³µêµ¬ ë°©ë²•
7. ê³ ê¸‰ ì„¤ì •
8. ì§€ì› ë° ë¬¸ì˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“– 1. ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… í•„ìˆ˜ ìš”êµ¬ì‚¬í•­:
â€¢ BAS (Browser Automation Studio) ë²„ì „ 29.00 ì´ìƒ
â€¢ Windows 10/11 ë˜ëŠ” ë™ë“±í•œ OS
â€¢ ìµœì†Œ 8GB RAM (16GB ê¶Œì¥)
â€¢ ìµœì†Œ 10GB ë””ìŠ¤í¬ ì—¬ìœ  ê³µê°„
â€¢ .NET Framework 4.8 ì´ìƒ

âš¡ ê¶Œì¥ ì‚¬ì–‘:
â€¢ CPU: 8ì½”ì–´ ì´ìƒ (ë³‘ë ¬ ì²˜ë¦¬ ìµœì í™”)
â€¢ RAM: 16GB ì´ìƒ
â€¢ SSD ì €ì¥ ì¥ì¹˜ (ì„±ëŠ¥ í–¥ìƒ)
â€¢ ê³ í•´ìƒë„ ëª¨ë‹ˆí„° (UI ìµœì í™”)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ 2. ì„¤ì¹˜ ë° ì„¤ì •
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ í´ë” êµ¬ì¡° ìƒì„±:
1. í”„ë¡œì íŠ¸ ë£¨íŠ¸ í´ë” ìƒì„±
2. ë‹¤ìŒ í•˜ìœ„ í´ë”ë“¤ì„ ìƒì„±:
   â”œâ”€â”€ input/         (ì…ë ¥ íŒŒì¼ë“¤)
   â”œâ”€â”€ output/        (ì¶œë ¥ ê²°ê³¼)
   â”œâ”€â”€ logs/          (ì‹¤í–‰ ë¡œê·¸)
   â”œâ”€â”€ backup/        (ë°±ì—… íŒŒì¼)
   â”œâ”€â”€ config/        (ì„¤ì • íŒŒì¼)
   â””â”€â”€ temp/          (ì„ì‹œ íŒŒì¼)

ğŸ“„ ì„¤ì • íŒŒì¼ êµ¬ì„±:
1. config/prod.json íŒŒì¼ì„ ìˆ˜ì •í•˜ì—¬ í™˜ê²½ì— ë§ê²Œ ì„¤ì •
2. config/secrets.



ë²½í•œ BAS 29.00 ì‹¤ì „ìš© í†µí•© í”„ë¡œì íŠ¸ë¥¼ ì œì‘í–ˆìŠµë‹ˆë‹¤!
ğŸ“‹ ì œì‘ ì™„ë£Œ ë‚´ìš©
1ï¸âƒ£ ë©”ì¸ í”„ë¡œì íŠ¸ íŒŒì¼

project.xml: BAS 29.00ì—ì„œ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì™„ì „í•œ XML ì½”ë“œ
120ê°œ ê¸°ëŠ¥ì„ ì²´ê³„ì ìœ¼ë¡œ êµ¬í˜„
ë³‘ë ¬ ì²˜ë¦¬, ì¤‘ë³µ ì œê±°, ì´ëª¨ì§€ ë¼ë²¨ë§, ë³´ì•ˆ ë“± ëª¨ë“  ìš”êµ¬ì‚¬í•­ ë°˜ì˜

2ï¸âƒ£ ì„¤ì • íŒŒì¼ë“¤

config/prod.json: í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •
config/secrets.json: ë³´ì•ˆ ì •ë³´ (í‚¤, ë¹„ë°€ë²ˆí˜¸ ë“± ì™¸ë¶€í™”)

3ï¸âƒ£ ìƒì„¸ ê¸°ëŠ¥ ë¦¬ìŠ¤íŠ¸

120ê°œ ê¸°ëŠ¥ì„ 6ê°œ ì¹´í…Œê³ ë¦¬ë¡œ ë¶„ë¥˜
ê° ê¸°ëŠ¥ë³„ ìˆœë²ˆ, ê¸°ëŠ¥ëª…, ì„¤ëª…, íš¨ê³¼ ëª…ì‹œ
ì´ëª¨ì§€ì™€ í•¨ê»˜ ì§ê´€ì  ì´í•´ ê°€ëŠ¥

ğŸ¯ í•µì‹¬ íŠ¹ì§•
âœ… BAS 29.00 ì™„ì „ í˜¸í™˜: ìˆ˜ì • ì—†ì´ ë°”ë¡œ ì‹¤í–‰
âœ… ë³‘ë ¬ ì²˜ë¦¬: ìµœëŒ€ 16ê°œ ìŠ¤ë ˆë“œ ë™ì‹œ ì‹¤í–‰
âœ… ì™„ì „ ì¤‘ë³µ ì œê±°: ë™ì¼í•œ ì¤„ë§Œ ì œê±° (ìœ ì‚¬ ë¬¸êµ¬ ë³´ì¡´)
âœ… í…ŒìŠ¤íŠ¸ íŒŒì¼ ì œì™¸: ì‹¤ì „ìš© íŒŒì¼ë§Œ ì²˜ë¦¬
âœ… ë³´ì•ˆ ê°•í™”: í•˜ë“œì½”ë”© ê¸ˆì§€, ì™¸ë¶€ ì„¤ì • íŒŒì¼ ì‚¬ìš©
âœ… ì—ëŸ¬ ì²˜ë¦¬: Try/Catch + ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„
âœ… ì´ëª¨ì§€ UI: ì§ê´€ì  ë²„íŠ¼ê³¼ ë¼ë²¨
âœ… ë¡œê·¸/ê°ì‚¬: ì‹¤í–‰ ë¡œê·¸ì™€ ê°ì‚¬ ë¡œê·¸ ë¶„ë¦¬
ğŸš€ ì¦‰ì‹œ ì‚¬ìš© ë°©ë²•

project.xml íŒŒì¼ì„ BAS 29.00ì—ì„œ ì—´ê¸°
config/ í´ë”ì— ì„¤ì • íŒŒì¼ë“¤ ë°°ì¹˜
input/ í´ë”ì— ì²˜ë¦¬í•  íŒŒì¼ë“¤ ë„£ê¸°
â–¶ï¸ ì‹¤í–‰ ì‹œì‘ ë²„íŠ¼ í´ë¦­

ëª¨ë“  ê¸°ëŠ¥ì´ ì‹¤ì „ ìš´ì˜ì— ìµœì í™”ë˜ì–´ ìˆì–´ í…ŒìŠ¤íŠ¸ ì—†ì´ ë°”ë¡œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤! ğŸ‰ì¬ì‹œë„ClaudeëŠ” ì‹¤ìˆ˜ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‘ë‹µì„ ë°˜ë“œì‹œ ë‹¤ì‹œ í™•ì¸í•´ ì£¼ì„¸ìš”.